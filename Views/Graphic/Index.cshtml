@model game_trends_explorer.Models.GraphicViewModel;
@using ChartJSCore.Models;
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.1/chart.js"></script>

@{
    ViewData["Title"] = "Graphic View";

    Chart? chart = (Chart?)ViewData["chart"];
}

@section Head {
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js" integrity="sha512-ElRFoEQdI5Ht6kZvyzXhYG9NqjtkmlkfYk0wr6wHxU9JEHakS7UJZNeml5ALk+8IKlU6jDgMabC3vkumRokgJA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/hammer.js/2.0.8/hammer.min.js" integrity="sha512-UXumZrZNiOwnTcZSHLOfcTs0aos2MzBWHXOHOuB0J/R44QB0dwY5JgfbvljXcklVf65Gc4El6RjZ+lnwd2az2g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chartjs-plugin-zoom/1.2.1/chartjs-plugin-zoom.min.js" integrity="sha512-klQv6lz2YR+MecyFYMFRuU2eAl8IPRo6zHnsc9n142TJuJHS8CG0ix4Oq9na9ceeg1u5EkBfZsFcV3U7J51iew==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
}

<h1>Graphic View</h1>

<div id="chartDisplay" class="card col-md-6">
    <div class="chart-body">
        <h4 class="card-title">Your Generated Chart:</h4>
        <canvas id="Chart"></canvas>
        To save as an image, right-click on the chart.
    </div>
</div>

<p>Choose the type of chart to generate.</p>

<div class="w3-bar">
    <button class="tablink" onclick="openTab(event, 'Bar')">Bar</button>
    <button class="tablink" onclick="openTab(event, 'Area')">Area</button>
    <button class="tablink" onclick="openTab(event, 'Line')">Line</button>
    <button class="tablink" onclick="openTab(event, 'Scatter')">Scatter</button>
    <button class="tablink" onclick="openTab(event, 'Bubble')">Bubble</button>
    <button class="tablink" onclick="openTab(event, 'Pie')">Pie</button>
    <button class="tablink" onclick="openTab(event, 'Doughnut')">Doughnut</button>
    <button class="tablink" onclick="openTab(event, 'Radar')">Radar</button>
    @* <button class="w3-bar-item w3-button tablink" onclick="openTab(event, 'Advanced')">Advanced</button> *@
</div>

<form id="Bar" class="w3-container tab" asp-action="Index" method="get" style="display:none">
    <p>Hover over a field's label to learn more about the purpose of each one. Red ones are required to generate a graphic.</p>
    <select class="chartType" asp-for="chartType">
        <option selected="selected">Bar</option>
    </select>
    <div class="menuNav">
        <section>
            <label title="Specify a name for the graphic. If left empty, the chart will apply a default title formatted as '{X-Axis}: {Y-Axis}'.">Title:</label>
            <input type="text" placeholder="Input" asp-for="Title"/>
        </section>
    </div>
    <div class="menuNav">
        <section>
            <label title="Choose which class to group the data (this field is REQUIRED)." style="color:red">X-Axis:</label>
            <select asp-for="xAxis" asp-items="Model.xAxes">
                <option value=""></option>
            </select>
        </section>
        <section>
            <label title="Specify a moniker for the X-Axis. If left empty, the chart will default to the name of the X-Axis chosen.">Label:</label>
            <input type="text" placeholder="Input" asp-for="xLabel" style="width:150px"/>
        </section>
    </div>
    <div class="menuNav">
        <section>
            <label title="Choose which type of sales data to use (this field is REQUIRED)." style="color:red">Y-Axis:</label>
            <select asp-for="yAxis" asp-items="Model.yAxes">
                <option value=""></option>
            </select>
        </section>
        <section>
            <label title="Specify a moniker for the Y-Axis. If left empty, the chart will default to the name of the Y-Axis chosen.">Label:</label>
            <input type="text" placeholder="Input" asp-for="yLabel" style="width:150px"/>
        </section>
        <section>
            <label title="Choose to order the data by either least to greatest or vice versa. If left empty, the data will be listed in a random order.">Sort:</label>
            <select asp-for="sortOrder" asp-items="Model.sorts">
                <option value="None"></option>
            </select>
        </section>
        <section>
            <label title="Specify the minimum and/or maximum value the chart will include by the million. Default min and max is 0 and 9999 repectively, so if both are left empty, the chart will include all items. It's recommended to apply a range for categories of high granularity (Name, Publisher, Developer).">Scale:</label>
            <input type="number" placeholder="Min" asp-for="minScale" min="0" max ="9999" style="width:70px"/> - 
                <input type="number" placeholder="Max" asp-for="maxScale" min="1" max="9999" style="width:70px"/>
        </section>
    </div>
    <div class="menuNav">
        <section>
            <label title="Assign the chart a variety of provided color palettes. For this type, all six colors in the palette are used. If left empty, the Default palette will be chosen.">Bar Colors:</label>
            <select asp-for="colorPalette" asp-items="Model.colorPalettes">
                <option value="Default"></option>
            </select>
        </section>
    </div>

    <section>
        <input type="submit" value="Generate" class="btn-default" />
    </section>
</form>

<form id="Area" class="w3-container tab" asp-action="Index" method="get" style="display:none">
    <p>Hover over a field's label to learn more about the purpose of each one. Red ones are required to generate a graphic.</p>
    <select class="chartType" asp-for="chartType">
        <option selected="selected">Area</option>
    </select>
    <div class="menuNav">
        <section>
            <label title="Specify a name for the graphic. If left empty, the chart will apply a default title formatted as '{X-Axis}: {Y-Axis}'." >Title:</label>
            <input type="text" placeholder="Input" asp-for="Title"/>
        </section>
    </div>
    <div class="menuNav">
        <section>
            <label title="Choose which class to group the data (this field is REQUIRED)." style="color:red">X-Axis:</label>
            <select asp-for="xAxis" asp-items="Model.xAxes">
                <option value=""></option>
            </select>
        </section>
        <section>
            <label title="Specify a moniker for the X-Axis. If left empty, the chart will default to the name of the X-Axis chosen.">Label:</label>
            <input type="text" placeholder="Input" asp-for="xLabel" style="width:150px"/>
        </section>
    </div>
    <div class="menuNav">
        <section>
            <label title="Choose which type of sales data to use (this field is REQUIRED)." style="color:red">Y-Axis:</label>
            <select asp-for="yAxis" asp-items="Model.yAxes">
                <option value=""></option>
            </select>
        </section>
        <section>
            <label title="Specify a moniker for the Y-Axis. If left empty, the chart will default to the name of the Y-Axis chosen.">Label:</label>
            <input type="text" placeholder="Input" asp-for="yLabel" style="width:150px"/>
        </section>
        <section>
            <label title="Choose to order the data by either least to greatest or vice versa. If left empty, the data will be listed in a random order.">Sort:</label>
            <select asp-for="sortOrder" asp-items="Model.sorts">
                <option value="None"></option>
            </select>
        </section>
        <section>
            <label title="Specify the minimum and/or maximum value the chart will include by the million. Default min and max is 0 and 9999 repectively, so if both are left empty, the chart will include all items. It's recommended to apply a range for categories of high granularity (Name, Publisher, Developer).">Scale:</label>
            <input type="number" placeholder="Min" asp-for="minScale" min="0" max ="9999" style="width:70px"/> - 
                <input type="number" placeholder="Max" asp-for="maxScale" min="1" max="9999" style="width:70px"/>
        </section>
    </div>
    <div class="menuNav">
        <section>
            <label title="Assign the chart a variety of provided color palettes. For this type, only the first of the six colors in the palette is used. If left empty, the Default palette will be chosen.">Area Color:</label>
            <select asp-for="colorPalette" asp-items="Model.colorPalettes">
                <option value="Default"></option>
            </select>
        </section>
    </div>

    <section>
        <input type="submit" value="Generate" class="btn-default" />
    </section>
</form>

<form id="Line" class="w3-container tab" asp-action="Index" method="get" style="display:none">
    <p>Hover over a field's label to learn more about the purpose of each one. Red ones are required to generate a graphic.</p>
    <select class="chartType" asp-for="chartType">
        <option selected="selected">Line</option>
    </select>
    <div class="menuNav">
        <section>
            <label title="Specify a name for the graphic. If left empty, the chart will apply a default title formatted as '{X-Axis}: {Y-Axis}'.">Title:</label>
            <input type="text" placeholder="Input" asp-for="Title"/>
        </section>
    </div>
    <div class="menuNav">
        <section>
            <label title="Choose which class to group the data (this field is REQUIRED)." style="color:red">X-Axis:</label>
            <select asp-for="xAxis" asp-items="Model.xAxes">
                <option value=""></option>
            </select>
        </section>
        <section>
            <label title="Specify a moniker for the X-Axis. If left empty, the chart will default to the name of the X-Axis chosen.">Label:</label>
            <input type="text" placeholder="Input" asp-for="xLabel" style="width:150px"/>
        </section>
    </div>
    <div class="menuNav">
        <section>
            <label title="Choose which type of sales data to use (this field is REQUIRED)." style="color:red">Y-Axis:</label>
            <select asp-for="yAxis" asp-items="Model.yAxes">
                <option value=""></option>
            </select>
        </section>
        <section>
            <label title="Specify a moniker for the Y-Axis. If left empty, the chart will default to the name of the Y-Axis chosen.">Label:</label>
            <input type="text" placeholder="Input" asp-for="yLabel" style="width:150px"/>
        </section>
        <section>
            <label title="Choose to order the data by either least to greatest or vice versa. If left empty, the data will be listed in a random order.">Sort:</label>
            <select asp-for="sortOrder" asp-items="Model.sorts">
                <option value="None"></option>
            </select>
        </section>
        <section>
            <label title="Specify the minimum and/or maximum value the chart will include by the million. Default min and max is 0 and 9999 repectively, so if both are left empty, the chart will include all items. It's recommended to apply a range for categories of high granularity (Name, Publisher, Developer).">Scale:</label>
            <input type="number" placeholder="Min" asp-for="minScale" min="0" max ="9999" style="width:70px"/> - 
                <input type="number" placeholder="Max" asp-for="maxScale" min="1" max="9999" style="width:70px"/>
        </section>
    </div>
    <div class="menuNav">
        <section>
            <label title="Assign the chart a variety of provided color palettes. For this type, only the first of the six colors in the palette is used. If left empty, the Default palette will be chosen.">Line Color:</label>
            <select asp-for="colorPalette" asp-items="Model.colorPalettes">
                <option value="Default"></option>
            </select>
        </section>
    </div>

    <section>
        <input type="submit" value="Generate" class="btn-default" />
    </section>
</form>

<form id="Scatter" class="w3-container tab" asp-action="Index" method="get" style="display:none">
    <p>Hover over a field's label to learn more about the purpose of each one. Red ones are required to generate a graphic.</p>
    <select class="chartType" asp-for="chartType">
        <option selected="selected">Scatter</option>
    </select>
    <div class="menuNav">
        <section>
            <label title="Specify a name for the graphic. If left empty, the chart will apply a default title formatted as '{X-Axis}: {Y-Axis}'.">Title:</label>
            <input type="text" placeholder="Input" asp-for="Title"/>
        </section>
    </div>
    <div class="menuNav">
        <section>
            <label title="Choose which class to group the data (this field is REQUIRED)." style="color:red">X-Axis:</label>
            <select asp-for="xAxis" asp-items="Model.xAxes">
                <option value=""></option>
            </select>
        </section>
        <section>
            <label title="Specify a moniker for the X-Axis. If left empty, the chart will default to the name of the X-Axis chosen.">Label:</label>
            <input type="text" placeholder="Input" asp-for="xLabel" style="width:150px"/>
        </section>
    </div>
    <div class="menuNav">
        <section>
            <label title="Choose which type of sales data to use (this field is REQUIRED)." style="color:red">Y-Axis:</label>
            <select asp-for="yAxis" asp-items="Model.yAxes">
                <option value=""></option>
            </select>
        </section>
        <section>
            <label title="Specify a moniker for the Y-Axis. If left empty, the chart will default to the name of the Y-Axis chosen.">Label:</label>
            <input type="text" placeholder="Input" asp-for="yLabel" style="width:150px"/>
        </section>
        <section>
            <label title="Choose to order the data by either least to greatest or vice versa. If left empty, the data will be listed in a random order.">Sort:</label>
            <select asp-for="sortOrder" asp-items="Model.sorts">
                <option value="None"></option>
            </select>
        </section>
        <section>
            <label title="Specify the minimum and/or maximum value the chart will include by the million. Default min and max is 0 and 9999 repectively, so if both are left empty, the chart will include all items. It's recommended to apply a range for categories of high granularity (Name, Publisher, Developer).">Scale:</label>
            <input type="number" placeholder="Min" asp-for="minScale" min="0" max ="9999" style="width:70px"/> - 
                <input type="number" placeholder="Max" asp-for="maxScale" min="1" max="9999" style="width:70px"/>
        </section>
    </div>
    <div class="menuNav">
        <section>
            <label title="Assign the chart a variety of provided color palettes. For this type, all six colors in the palette are used. If left empty, the Default palette will be chosen.">Point Colors:</label>
            <select asp-for="colorPalette" asp-items="Model.colorPalettes">
                <option value="Default"></option>
            </select>
        </section>
    </div>
    
    <section>
        <input type="submit" value="Generate" class="btn-default" />
    </section>
</form>

<form id="Bubble" class="w3-container tab" asp-action="Index" method="get" style="display:none">
    <p>Hover over a field's label to learn more about the purpose of each one. Red ones are required to generate a graphic.</p>
    <select class="chartType" asp-for="chartType">
        <option selected="selected">Bubble</option>
    </select>
    <div class="menuNav">
        <section>
            <label title="Specify a name for the graphic. If left empty, the chart will apply a default title formatted as '{X-Axis}: {Y-Axis}'.">Title:</label>
            <input type="text" placeholder="Input" asp-for="Title"/>
        </section>
    </div>
    <div class="menuNav">
        <section>
            <label title="Choose which class to group the data (this field is REQUIRED)." style="color:red">X-Axis:</label>
            <select asp-for="xAxis" asp-items="Model.xAxes">
                <option value=""></option>
            </select>
        </section>
        <section>
            <label title="Specify a moniker for the X-Axis. If left empty, the chart will default to the name of the X-Axis chosen.">Label:</label>
            <input type="text" placeholder="Input" asp-for="xLabel" style="width:150px"/>
        </section>
    </div>
    <div class="menuNav">
        <section>
            <label title="Choose which type of sales data to use (this field is REQUIRED)." style="color:red">Y-Axis:</label>
            <select asp-for="yAxis" asp-items="Model.yAxes">
                <option value=""></option>
            </select>
        </section>
        <section>
            <label title="Specify a moniker for the Y-Axis. If left empty, the chart will default to the name of the Y-Axis chosen.">Label:</label>
            <input type="text" placeholder="Input" asp-for="yLabel" style="width:150px"/>
        </section>
        <section>
            <label title="Choose to order the data by either least to greatest or vice versa. If left empty, the data will be listed in a random order.">Sort:</label>
            <select asp-for="sortOrder" asp-items="Model.sorts">
                <option value="None"></option>
            </select>
        </section>
        <section>
            <label title="Specify the minimum and/or maximum value the chart will include by the million. Default min and max is 0 and 9999 repectively, so if both are left empty, the chart will include all items. It's recommended to apply a range for categories of high granularity (Name, Publisher, Developer).">Scale:</label>
            <input type="number" placeholder="Min" asp-for="minScale" min="0" max ="9999" style="width:70px"/> - 
                <input type="number" placeholder="Max" asp-for="maxScale" min="1" max="9999" style="width:70px"/>
        </section>
    </div>
    <div class="menuNav">
        <section>
            <label title="Assign the chart a variety of provided color palettes. For this type, all six colors in the palette are used. If left empty, the Default palette will be chosen.">Bubble Colors:</label>
            <select asp-for="colorPalette" asp-items="Model.colorPalettes">
                <option value="Default"></option>
            </select>
        </section>
    </div>
    
    <section>
        <input type="submit" value="Generate" class="btn-default" />
    </section>
</form>

<form id="Pie" class="w3-container tab" asp-action="Index" method="get" style="display:none">
    <p>Hover over a field's label to learn more about the purpose of each one. Red ones are required to generate a graphic.</p>
    <select class="chartType" asp-for="chartType">
        <option selected="selected">Pie</option>
    </select>
    <div class="menuNav">
        <section>
            <label title="Specify a name for the graphic. If left empty, the chart will apply a default title formatted as '{Category}: {Stats}'.">Title:</label>
            <input type="text" placeholder="Input" asp-for="Title"/>
        </section>
    </div>
    <div class="menuNav">
        <section>
            <label title="Choose which class to group the data (this field is REQUIRED)." style="color:red">Category:</label>
            <select asp-for="xAxis" asp-items="Model.xAxes">
                <option value=""></option>
            </select>
        </section>
    </div>
    <div class="menuNav">
        <section>
            <label title="Choose which type of sales data to use (this field is REQUIRED)." style="color:red">Stats:</label>
            <select asp-for="yAxis" asp-items="Model.yAxes">
                <option value=""></option>
            </select>
        </section>
        <section>
            <label title="Choose to order the data by either least to greatest or vice versa. If left empty, the data will be listed in a random order.">Sort:</label>
            <select asp-for="sortOrder" asp-items="Model.sorts">
                <option value="None"></option>
            </select>
        </section>
        <section>
            <label title="Specify the minimum and/or maximum value the chart will include by the million. Default min and max is 0 and 9999 repectively, so if both are left empty, the chart will include all items. It's recommended to apply a range for categories of high granularity (Name, Publisher, Developer).">Range:</label>
            <input type="number" placeholder="Min" asp-for="minScale" min="0" max ="9999" style="width:70px"/> - 
                <input type="number" placeholder="Max" asp-for="maxScale" min="1" max="9999" style="width:70px"/>
        </section>
    </div>
    <div class="menuNav">
        <section>
            <label title="Assign the chart a variety of provided color palettes. For this type, all six colors in the palette are used. If left empty, the Default palette will be chosen.">Section Colors:</label>
            <select asp-for="colorPalette" asp-items="Model.colorPalettes">
                <option value="Default"></option>
            </select>
        </section>
    </div>
    
    <section>
        <input type="submit" value="Generate" class="btn-default" />
    </section>
</form>

<form id="Doughnut" class="w3-container tab" asp-action="Index" method="get" style="display:none">
    <p>Hover over a field's label to learn more about the purpose of each one. Red ones are required to generate a graphic.</p>
    <select class="chartType" asp-for="chartType">
        <option selected="selected">Doughnut</option>
    </select>
    <div class="menuNav">
        <section>
            <label title="Specify a name for the graphic. If left empty, the chart will apply a default title formatted as '{Category}: {Stats}'.">Title:</label>
            <input type="text" placeholder="Input" asp-for="Title"/>
        </section>
    </div>
    <div class="menuNav">
        <section>
            <label title="Choose which class to group the data (this field is REQUIRED)." style="color:red">Category:</label>
            <select asp-for="xAxis" asp-items="Model.xAxes">
                <option value=""></option>
            </select>
        </section>
    </div>
    <div class="menuNav">
        <section>
            <label title="Choose which type of sales data to use (this field is REQUIRED)." style="color:red">Stats:</label>
            <select asp-for="yAxis" asp-items="Model.yAxes">
                <option value=""></option>
            </select>
        </section>
        <section>
            <label title="Choose to order the data by either least to greatest or vice versa. If left empty, the data will be listed in a random order.">Sort:</label>
            <select asp-for="sortOrder" asp-items="Model.sorts">
                <option value="None"></option>
            </select>
        </section>
        <section>
            <label title="Specify the minimum and/or maximum value the chart will include by the million. Default min and max is 0 and 9999 repectively, so if both are left empty, the chart will include all items. It's recommended to apply a range for categories of high granularity (Name, Publisher, Developer).">Range:</label>
            <input type="number" placeholder="Min" asp-for="minScale" min="0" max ="9999" style="width:70px"/> - 
                <input type="number" placeholder="Max" asp-for="maxScale" min="1" max="9999" style="width:70px"/>
        </section>
    </div>
    <div class="menuNav">
        <section>
            <label title="Assign the chart a variety of provided color palettes. For this type, all six colors in the palette are used. If left empty, the Default palette will be chosen.">Section Colors:</label>
            <select asp-for="colorPalette" asp-items="Model.colorPalettes">
                <option value="Default"></option>
            </select>
        </section>
    </div>
    
    <section>
        <input type="submit" value="Generate" class="btn-default" />
    </section>
</form>

<form id="Radar" class="w3-container tab" asp-action="Index" method="get" style="display:none">
    <p>Hover over a field's label to learn more about the purpose of each one. Red ones are required to generate a graphic.</p>
    <select class="chartType" asp-for="chartType">
        <option selected="selected">Radar</option>
    </select>
    <div class="menuNav">
        <section>
            <label title="Specify a name for the graphic. If left empty, the chart will apply a default title formatted as '{Category}: {Stats}'.">Title:</label>
            <input type="text" placeholder="Input" asp-for="Title"/>
        </section>
    </div>
    <div class="menuNav">
        <section>
            <label title="Choose which class to group the data (this field is REQUIRED)." style="color:red">Category:</label>
            <select asp-for="xAxis" asp-items="Model.xAxes">
                <option value=""></option>
            </select>
        </section>
    </div>
    <div class="menuNav">
        <section>
            <label title="Choose which type of sales data to use (this field is REQUIRED)." style="color:red">Stats:</label>
            <select asp-for="yAxis" asp-items="Model.yAxes">
                <option value=""></option>
            </select>
        </section>
        <section>
            <label title="Choose to order the data by either least to greatest or vice versa. If left empty, the data will be listed in a random order.">Sort:</label>
            <select asp-for="sortOrder" asp-items="Model.sorts">
                <option value="None"></option>
            </select>
        </section>
        <section>
            <label title="Specify the minimum and/or maximum value the chart will include by the million. Default min and max is 0 and 9999 repectively, so if both are left empty, the chart will include all items. It's recommended to apply a range for categories of high granularity (Name, Publisher, Developer).">Range:</label>
            <input type="number" placeholder="Min" asp-for="minScale" min="0" max ="9999" style="width:70px"/> - 
                <input type="number" placeholder="Max" asp-for="maxScale" min="1" max="9999" style="width:70px"/>
        </section>
    </div>
    <div class="menuNav">
        <section>
            <label title="Assign the chart a variety of provided color palettes. For this type, only the first of the six colors in the palette is used. If left empty, the Default palette will be chosen.">Fill Color:</label>
            <select asp-for="colorPalette" asp-items="Model.colorPalettes">
                <option value="Default"></option>
            </select>
        </section>
    </div>
    
    <section>
        <input type="submit" value="Generate" class="btn-default" />
    </section>
</form>

@* <form id="Advanced" class="w3-container tab" asp-action="Index" method="get" style="display:none">
    <select class="chartType" asp-for="chartType">
        <option selected="selected">Advanced</option>
    </select>
    <p>Assign parameters to insert in your chart after it's generated.</p>
    <h3>Required Parameters:</h3>
    <div>
        chart.Data.Labels (X-Axis): <select asp-for="xAxis" asp-items="Model.xAxes">
            <option value=""></option>
        </select>
        chart.Data.Datasets[0].Data (Y-Axis): <select asp-for="yAxis" asp-items="Model.yAxes">
            <option value=""></option>
        </select>
    </div>

    <h3>Optional Parameters:</h3>
    <div>
        Border/BackgroundColor (Color Pallete): <select asp-for="colorPalette" asp-items="Model.colorPalettes">
            <option value="None"></option>
        </select>
    </div>

    <h3>Other Options:</h3>
    <div>
        Sort: <select asp-for="sortOrder" asp-items="Model.sorts">
            <option value="None"></option>
        </select>
    </div>

    <h3>new Chart()</h3>
    <p>Generate chart by manually writing it via JSON.</p>
    <textarea type="text" asp-for="chartCode" id="chartCode" rows="10" cols="50" white-space="pre" placeholder="Generate chart by manually writing it via JSON."></textarea>

    <section>
        <input type="submit" value="Generate" class="btn-default" />
    </section>
</form> *@

@section Scripts {
    @if (chart != null) {
        <script type="text/javascript">
            @Html.Raw(chart.CreateChartCode("Chart"));
        </script>
    }
    else {
        <script type="text/javascript">document.getElementById("chartDisplay").style.display = "none";</script>
    }
    <script type="text/javascript">
        function openTab(evt, tabName) {
            var i, x, tablinks;

            x = document.getElementsByClassName("tab");
            for (i = 0; i < x.length; i++) {
                x[i].style.display = "none";
            }

            tablinks = document.getElementsByClassName("tablink");
            for (i = 0; i < tablinks.length; i++) {
                tablinks[i].className = tablinks[i].className.replace(" w3-light-grey", "");
            }

            document.getElementById(tabName).style.display = "block";

            evt.currentTarget.classList.add("w3-light-grey");

            var inputs = document.getElementsByTagName("input");
            for (var i = 0; i < inputs.length - 1; i++) {
                if (!inputs[i].classList.contains("btn-default"))
                    inputs[i].value = '';
            }

            var selects = document.getElementsByTagName("select");
            for (var i = 0; i < selects.length; i++) {
                if (!selects[i].classList.contains("chartType"))
                    selects[i].selectedIndex = -1;
            }

            document.getElementById("chartCode").value = '';
        }
    </script>
}